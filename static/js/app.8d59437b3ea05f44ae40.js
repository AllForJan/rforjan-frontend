webpackJsonp([1],{"/yRs":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("diQi"),a=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var i=n("4sHG");var o=function(t){n("aAJt")},u=n("VU/8")(a.a,i.a,!1,o,null,null);e.default=u.exports},"0607":function(t,e){},"4sHG":function(t,e,n){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-street-view-pano-container"},[e("div",{ref:"vue-street-view-pano",staticClass:"vue-street-view-pano"}),this._v(" "),this._t("default")],2)},staticRenderFns:[]};e.a=r},"5ZbH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("kXiA"),a=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var i=n("HMU4");var o=function(t){n("EbSk")},u=n("VU/8")(a.a,i.a,!1,o,null,null);e.default=u.exports},"5cLx":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Vj7G"),a=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var i=n("HcPG"),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.default=o.exports},"652l":function(t,e,n){"use strict";var r={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{ref:"input",attrs:{type:"text",placeholder:this.placeholder},domProps:{value:this.value}})},staticRenderFns:[]};e.a=r},EbSk:function(t,e){},HMU4:function(t,e,n){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vue-map-container"},[e("div",{ref:"vue-map",staticClass:"vue-map"}),this._v(" "),e("div",{staticClass:"vue-map-hidden"},[this._t("default")],2),this._v(" "),this._t("visible")],2)},staticRenderFns:[]};e.a=r},HcPG:function(t,e,n){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{ref:"flyaway"},[this._t("default")],2)])},staticRenderFns:[]};e.a=r},JKoY:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"TheHeader"},[e("div",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[this._v("\n      #RFORJAN\n    ")]),this._v(" "),e("div",{staticClass:"navbar-nav"},[e("div",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"home"}}},[this._v("\n          Home\n        ")])],1),this._v(" "),e("div",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"map"}}},[this._v("\n          Map view\n        ")])],1)])],1)])},staticRenderFns:[]};var s={name:"App",components:{TheHeader:n("VU/8")({components:{},props:{},data:function(){return{name:"",isDisabled:!0}},computed:{},methods:{logIn:function(t){this.name=t}}},a,!1,function(t){n("ZoN2")},"data-v-70858382",null).exports}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"App",attrs:{id:"app"}},[e("TheHeader",{staticClass:"App__header"}),this._v(" "),e("router-view",{staticClass:"App__content"})],1)},staticRenderFns:[]};var o=n("VU/8")(s,i,!1,function(t){n("Zf/A")},"data-v-38c3b47d",null).exports,u=n("/ocq"),c=n("U0v6"),l={components:{FontAwesomeIcon:n.n(c).a},props:{icon:!0}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("font-awesome-icon",this._b({staticClass:"Icon",attrs:{icon:this.icon}},"font-awesome-icon",this.$attrs,!1))},staticRenderFns:[]};var d={components:{Icon:n("VU/8")(l,p,!1,function(t){n("JKoY")},"data-v-4f804044",null).exports},props:{value:!0},data:function(){return{}},computed:{},methods:{input:function(t){this.$emit("input",t)},clear:function(){this.input("")}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"OmniSerach"},[n("input",{staticClass:"OmniSerach__input form-control form-control-lg",attrs:{type:"text",placeholder:"Meno / Názov firmy / IČO"},domProps:{value:t.value},on:{input:function(e){t.input(e.target.value)},keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"esc",27,e.key,"Escape"))return null;t.clear()}}}),t._v(" "),n("div",{staticClass:"OmniSerach__icon"},[n("Icon",{attrs:{icon:"search",size:"xl"}})],1)])},staticRenderFns:[]};var v={components:{OmniSerach:n("VU/8")(d,f,!1,function(t){n("eEPW")},"data-v-06dd8be6",null).exports},props:{},data:function(){return{searchQuery:""}},computed:{},methods:{}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"HomeScreen py-5"},[n("div",{staticClass:"container"},[n("OmniSerach",{model:{value:t.searchQuery,callback:function(e){t.searchQuery=e},expression:"searchQuery"}})],1)])},staticRenderFns:[]};var h=n("VU/8")(v,m,!1,function(t){n("lL+5")},"data-v-1fa8ec0c",null).exports,g=n("Xxa5"),_=n.n(g),y=n("d7EF"),b=n.n(y),j=n("exGp"),x=n.n(j),k=n("Dd8w"),w=n.n(k),S=n("NYxO"),C=n("yGLh"),P=n("nvAS");function O(t){var e=t.lat,n=t.lng,r=C.a.transform([n,e],"EPSG:4326","EPSG:5514"),a=b()(r,2);return{x:a[0],y:a[1]}}function M(t){var e=t.x,n=t.y,r=C.a.transform([e,n],"EPSG:5514","EPSG:4326"),a=b()(r,2),s=a[0];return{lat:a[1],lng:s}}P.a.defs("EPSG:5514","+proj=krovak +lat_0=49.5 +lon_0=24.83333333333333 +alpha=30.28813972222222 +k=0.9999 +x_0=0 +y_0=0 +ellps=bessel +pm=greenwich +units=m +no_defs +towgs84=570.8,85.7,462.8,4.998,1.587,5.261,3.56 +to +init=epsg:4326"),C.a.setProj4(P.a);var E=n("W3Iv"),$=n.n(E);function R(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $()(t).map(function(t){var e=b()(t,2),n=e[0],r=e[1];return n+"="+decodeURIComponent(r)}).join("&")}var L=n("mtWM"),z=n.n(L),D={getMapTile:function(t,e){var n=O(t.northEast),r=O(t.southWest),a=[n.x,n.y,r.x,r.y],s=e.width,i=e.height;return"http://portal.vupop.sk/arcgis/rest/services/LPIS/LPIS_verejnost/MapServer/export?"+R({dpi:"96",transparent:"true",format:"png8",layers:"show:0,1,3,4,5,6,7,8,9,26",bbox:a.join(","),bboxSR:"102067",imageSR:"102067",size:s+","+i,f:"image"})},lookupKulturnyDiel:function(t){var e=this;return x()(_.a.mark(function n(){var r,a,s,i,o;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=O(t),a=[-391315.6707205146,-1182782.0263571497,-388630.1445161288,-1181758.0868092705].join(","),console.log(r),s={geometry:r,mapExtent:a,geometryType:"esriGeometryPoint",returnGeometry:"true",imageDisplay:"1000,1000,96",tolerance:"5",f:"json"},e.next=6,z.a.get("http://portal.vupop.sk/arcgis/rest/services/LPIS/Kulturne_diely/MapServer/identify",{responseType:"json",params:s});case 6:if(i=e.sent,o=i.data&&i.data.results&&i.data.results[0]){e.next=10;break}return e.abrupt("return");case 10:return o.geometry.rings=o.geometry.rings.map(function(t){return t.map(function(t){var e=b()(t,2);return M({x:e[0],y:e[1]})})}),e.abrupt("return",o);case 12:case"end":return e.stop()}},n,e)}))()}},G=function(t){return"http://138.68.66.142:3333/"+t},W=function(t,e){return z.a.get(G(t),e).then(function(t){return t.data})},A=function(t,e){return W("parcels?lokalita="+t+"&diel="+e)},U={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"Spinner",class:this.modifierClass},[e("div",{staticClass:"Spinner__text",attrs:{if:"$slots.default"}},[this._t("default")],2)])},staticRenderFns:[]};var F=n("VU/8")({props:{size:!0,isWhite:!0},computed:{modifierClass:function(){return{isLarge:"large"===this.size,isSmall:"small"===this.size,isWhite:this.isWhite}}}},U,!1,function(t){n("PP3Y")},null,null).exports,I=n("sA6N"),T={render:function(){return""},mixins:[I.MapElementMixin],props:{source:!0,bounds:!0,opacity:!0},created:function(){},deferredReady:function(){this.updateOverlay()},methods:{updateOverlay:function(){var t=this;this.clearOverlay(),this.$overlay=new google.maps.GroundOverlay(this.source,this.bounds),this.$overlay.setMap(this.$map),google.maps.event.addListener(this.$overlay,"click",function(e){google.maps.event.trigger(t.$map,"click",e)})},clearOverlay:function(){this.$overlay&&this.$overlay.setMap(null)}},destroyed:function(){this.clearOverlay()},watch:{source:function(){this.updateOverlay()}}};var V=function(t){return{lat:t.lat(),lng:t.lng()}},H={components:{Spinner:F,MapGroundOverlay:n("VU/8")(T,null,!1,function(t){n("0607")},"data-v-eda3b65a",null).exports},props:{},data:function(){return{kulturnyDiel:null,isLoadingKulturnyDiel:!1,parcels:[],bounds:null,isLoading:!1,center:{lat:49.06394971960525,lng:21.191732156604985},zoom:15}},computed:w()({},Object(S.c)(["ziadost"]),{mapSize:function(){var t=this.$refs.map.$el;return{width:t.clientWidth,height:t.clientHeight}},vupopOverlaySrc:function(){return this.bounds&&D.getMapTile((t=this.bounds,{northEast:V(t.getNorthEast()),southWest:V(t.getSouthWest())}),this.mapSize);var t}}),methods:w()({},Object(S.b)(["storeZiadost"]),{updateBounds:function(t){this.tmpBounds=t},updateOverlays:function(){this.bounds=this.tmpBounds},loadParcels:function(t){var e=this;return x()(_.a.mark(function n(){var r,a,s,i;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.attributes,a=r.LOKALITA,s=r.ZKODKD,e.next=3,A(a,s);case 3:return e.t0=function(t){return t.latLonShape=t.latLonShape.map(function(t){var e=b()(t,2);return{lat:e[0],lng:e[1]}}),t},i=e.sent.map(e.t0),e.abrupt("return",i);case 6:case"end":return e.stop()}},n,e)}))()},handleClick:function(t){var e=this;return x()(_.a.mark(function n(){var r;return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=V(t.latLng),e.isLoadingKulturnyDiel=!0,e.kulturnyDiel=null,e.parcels=[],n.prev=4,n.next=7,D.lookupKulturnyDiel(r);case 7:if(e.kulturnyDiel=n.sent,!e.kulturnyDiel){n.next=12;break}return n.next=11,e.loadParcels(e.kulturnyDiel);case 11:e.parcels=n.sent;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(4),console.error(n.t0);case 17:return n.prev=17,e.isLoadingKulturnyDiel=!1,n.finish(17);case 20:case"end":return n.stop()}},n,e,[[4,14,17,20]])}))()},selectParcel:function(t){alert(t.parcel_number)}}),mounted:function(){var t=this;this.isLoading=!0,setTimeout(function(){t.isLoading=!1},1e3)}},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"Map"},[n("gmap-map",{ref:"map",staticClass:"Map__map",attrs:{type:"terrain",center:t.center,zoom:t.zoom},on:{idle:function(e){t.updateOverlays(e)},bounds_changed:function(e){t.updateBounds(e)},click:function(e){t.handleClick(e)}}},[t.kulturnyDiel?n("div",[t._l(t.kulturnyDiel.geometry.rings,function(t,e){return n("gmap-polygon",{key:"ud{$index}",attrs:{paths:t,editable:!1,options:{fillColor:"yellow",strokeWeight:"1",strokeColor:"yellow",pointerEvents:"none"}}})}),t._v(" "),t._l(t.parcels,function(e,r){return n("gmap-polygon",{key:"p"+r,attrs:{paths:e.latLonShape,editable:!1,options:{strokeWeight:"1"}},on:{click:function(n){t.selectParcel(e)}}})})],2):t._e(),t._v(" "),t.bounds?n("MapGroundOverlay",{attrs:{source:t.vupopOverlaySrc,bounds:t.bounds}}):t._e()],1),t._v(" "),t.isLoading?n("div",{staticClass:"Map__loadingOverlay"},[n("Spinner",{attrs:{size:"large"}})],1):t._e()],1)},staticRenderFns:[]};var N={components:{Map:n("VU/8")(H,K,!1,function(t){n("Tq4v")},"data-v-fcb9abb4",null).exports},props:{},data:function(){return{}},computed:{},methods:{}},Z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"MapView"},[e("Map")],1)},staticRenderFns:[]};var J=[{path:"/",name:"home",component:h},{path:"/mapa",name:"map",component:n("VU/8")(N,Z,!1,function(t){n("W9CK")},"data-v-07166ee0",null).exports}];r.a.use(u.a);var B=new u.a({routes:J}),Q=n("QxPg"),q=n("1P+R"),Y=n("bOdI"),X=n.n(Y);r.a.use(S.a);var tt="STORE_ZIADOST",et=new S.a.Store({state:{ziadost:null},actions:{storeZiadost:function(t,e){(0,t.commit)(tt,{ziadost:e})}},mutations:X()({},tt,function(t,e){var n=e.ziadost;t.ziadost=n})});n("m3Wc");Q.default.library.add(q.a),r.a.config.productionTip=!1;r.a.use(I,{load:{key:"AIzaSyDcJh16iZXgo9jQz94XJ3W2BsPJ29xt-Gk"}}),new r.a({el:"#app",router:B,store:et,components:{App:o},template:"<App/>"})},PP3Y:function(t,e){},T5eZ:function(t,e,n){"use strict";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("label",[e("span",{domProps:{textContent:this._s(this.label)}}),this._v(" "),e("input",{ref:"input",class:this.className,attrs:{type:"text",placeholder:this.placeholder}})])},staticRenderFns:[]};e.a=r},Tq4v:function(t,e){},W9CK:function(t,e){},YI6p:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("jIen"),a=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var i=n("T5eZ"),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.default=o.exports},"Zf/A":function(t,e){},ZoN2:function(t,e){},aAJt:function(t,e){},eEPW:function(t,e){},"lL+5":function(t,e){},lQeg:function(t,e){t.exports={_from:"proj4@^2.4.4",_id:"proj4@2.4.4",_inBundle:!1,_integrity:"sha512-yo6qTpBQXnxhcPopKJeVwwOBRzUpEa3vzSFlr38f5mF4Jnfb6NOL/ePIomefWiZmPgkUblHpcwnWVMB8FS3GKw==",_location:"/proj4",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"proj4@^2.4.4",name:"proj4",escapedName:"proj4",rawSpec:"^2.4.4",saveSpec:null,fetchSpec:"^2.4.4"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.4.4.tgz",_shasum:"c03d825e380f6850a4a7af5d20d365f6b72c4042",_spec:"proj4@^2.4.4",_where:"/home/hejny/www/miniprojects/rforjan-frontend",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},bundleDependencies:!1,contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"1.0.0","wkt-parser":"^1.2.0"},deprecated:!1,description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"^1.0.1","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~1.1.0","grunt-contrib-uglify":"~0.11.1","grunt-mocha-phantomjs":"~0.4.0","grunt-rollup":"^1.0.1",istanbul:"~0.2.4",mocha:"~1.17.1",rollup:"^0.41.4","rollup-plugin-json":"^2.0.1","rollup-plugin-node-resolve":"^2.0.0",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},homepage:"https://github.com/proj4js/proj4js#readme",license:"MIT",main:"dist/proj4-src.js",module:"lib/index.js",name:"proj4",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{build:"grunt","build:tmerc":"grunt build:tmerc",test:"npm run build && istanbul test _mocha test/test.js"},version:"2.4.4"}},m3Wc:function(t,e){},preG:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("osty"),a=n.n(r);for(var s in r)"default"!==s&&function(t){n.d(e,t,function(){return r[t]})}(s);var i=n("652l"),o=n("VU/8")(a.a,i.a,!1,null,null,null);e.default=o.exports}},["NHnr"]);
//# sourceMappingURL=app.8d59437b3ea05f44ae40.js.map